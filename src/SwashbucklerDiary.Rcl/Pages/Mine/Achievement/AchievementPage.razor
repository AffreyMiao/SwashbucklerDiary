@page "/achievement"
@namespace SwashbucklerDiary.Rcl.Pages
@inherits ImportantComponentBase

<MyAppBar>
    <MButton Icon="true"
             OnClick="NavigateToBack">
        <MIcon>
            mdi-arrow-left
        </MIcon>
    </MButton>

    @if (!showSearch)
    {
        <MToolbarTitle Class="font-weight-bold">
            @(I18n.T("Mine.Achievement.Name"))
        </MToolbarTitle>
        <MSpacer></MSpacer>
    }

    <VisibleTextField @bind-Visible="showSearch"
                      @bind-Value="search"
                      OnInput="UpdateAchievements">
    </VisibleTextField>

    <MButton Icon="true"
             OnClick="()=>showSearch=!showSearch">
        <MIcon>
            mdi-magnify
        </MIcon>
    </MButton>
</MyAppBar>

<ScrollContainer>
    <div class="adaptive-card-container">
        @foreach (var item in _achievements)
        {
            <AchievementCard @key="item"
                             Value="item">
            </AchievementCard>
        }
    </div>

    <EmptyResult Show="_achievements.Count == 0"></EmptyResult>
</ScrollContainer>
